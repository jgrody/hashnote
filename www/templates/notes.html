<ion-view
  title="Notes"
  hide-back-button="true"
  hide-nav-bar="true"
  cache-view="false"
  nav-transition="none"
  id="page2"
  class="new-note-container"
  ng-cloak
>
  <ion-header-bar
    class="bar-calm"
    ng-if="!options.showSearch"
  >
    <button class="button button-icon ion-ios-minus-outline" ng-click="toggleDelete()"></button>
    <!-- <button class="button button-clear button-stable">Edit</button> -->
    <div class="h1 title">Notes</div>
    <button class="button button-icon ion-search " ng-click="toggleSearch()"></button>
  </ion-header-bar>

  <ion-header-bar
    class="item-input-inset"
    ng-if="options.showSearch || options.search"
  >
    <label class="item-input-wrapper">
      <i class="icon ion-ios-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-model="options.search">
    </label>
    <button
      class="button button-clear button-positive"
      ng-if="!options.search"
      ng-click="options.showSearch = false;"
    >
      Cancel
    </button>
    <button
      class="button button-clear button-positive"
      ng-click="options.search = '';"
      ng-if="options.search"
    >
      Clear
    </button>
  </ion-header-bar>

  <ion-content
    padding="true"
    class="manual-remove-top-padding has-header"
  >
    <ion-list
      id="notes-list3"
      class="manual-list-fullwidth"
      show-delete="options.showDelete"
    >
      <ion-item
        class="item-avatar"
        id="notes-list-item1"
        ui-sref="tabsController.edit({id: item.$id})"
        collection-repeat="item in list | orderBy: '-createdAt' | filter:options.search track by $id"
      >
        <h2>{{item.note}}</h2>
        <p>{{item.createdAt | dateFilter: "dateOnly"}}</p>
        <ion-delete-button
          class="ion-minus-circled"
          ng-click="remove(item)"
        ></ion-delete-button>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
